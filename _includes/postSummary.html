{% assign minutes = post.content | number_of_words | divided_by: 120 %}
{% if minutes == 0 %}
{% assign minutes = 1 %}
{% endif %}

<div class="post">
    <div class="date">
        <time datetime="{{ post.date | date: "%Y-%m-%d" }}">
            <span class="day">{{ post.date | date: "%-d" }}</span>
            <span class="month">{{ post.date | date: "%b '%y" }}</span>
        </time>
    </div>

    <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>

    {% if post.image %}
    <div class="image" style="background-image: url('/images/{{ post.image }}');">
        <a href="{{ post.url }}"></a>
    </div>
    {% endif %}

    {{ post.summary }}

    <div class="cta flex">
        <div class="author flex-item">
            <header>Author:</header>
            <p>
        {% assign authorCount = post.author | size %}
        {% if authorCount == 0 %}
        No author
        {% elsif authorCount == 1 %}
        {{ post.author | first }}
        {% else %}
        {% for author in post.author %}
        {% if forloop.first %}
        {{ author }}
        {% elsif forloop.last %}
        and {{ author }}
        {% else %}
        , {{ author }}
        {% endif %}
        {% endfor %}
        {% endif %}
            </p>
            </div>

        {% if post.category %}
        <div class="categories flex-item">
            <header>Category:</header>
            <p>{{ post.category }}</p>
        </div>
        {% endif %}
        <div class="read flex-item">
            <header>Time:</header>
            <p>{{ minutes }} minute read</p>
        </div>
    </div>
</div>
